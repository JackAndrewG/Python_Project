{% extends 'app1/base.html' %}
{% block content %}
<section id="call-to-action">
<div class="container">
  <!-- Cambio en modelos: codigo_cancha > unico -->
  <div class="row">
    <form method="GET" action="/reporte_reservas/"> {% csrf_token %}
      Ingrese el mes y año:
      <input type="month" name="buscar_mes">
      <button type="submit" class="btn btn-info">Consultar</button>
    </form>
  </div>
<br>
  <div class="table-responsive">
    <table class="table table-striped table-dark">
      <caption>Lista de reservas</caption>
      <thead>
        <tr>
          <th scope="col">Código</th>
          <th scope="col">Usuario</th>
          <th scope="col">Cancha</th>
          <th scope="col">Fecha reserva</th>
          <th scope="col">Hora inicio</th>
          <th scope="col">Hora fin</th>
          <th scope="col">Valor unitario</th>
          <th scope="col">Valor total</th>
          <th scope="col">Estado de reserva</th>
        </tr>
      </thead>
      <tbody>
        {% for reserva in reservas %}
        <tr>
          <td><a href="{% url 'reserva_enlace' pk=reserva.pk %}">0000{{ reserva.id }}</a></td>
          <td>{{ reserva.usuario }}</td>
          <td>{{ reserva.cancha }}</td>
          <td>{{ reserva.fecha_reserva }}</td>
          <td>{{ reserva.hora_inicio }}</td>
          <td>{{ reserva.hora_fin }}</td>
          <td>{{ reserva.valor_unitario }}</td>
          <td>{{ reserva.valor_total }}</td>
          <td> 
            {% if reserva.estado_reserva %} 
              Activa
            {%else%}
              Inactiva
            {%endif%}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    
  </div>
</div>
</section>
{% endblock %}